\ QEMU UART emulation

TARGET
04000C000 EQU UARTDR
04000C018 EQU UARTFR

010 EQU RXFE
020 EQU TXFF

: QEMU-EMIT  BEGIN UARTFR @ TXFF AND 0= UNTIL   UARTDR !   1 >OUT +! ;
: QEMU-KEY?  UARTFR @   RXFE AND   0= ;
: QEMU-KEY   BEGIN QEMU-KEY? UNTIL   UARTDR @ ;

' QEMU-EMIT IS EMIT
' QEMU-KEY? IS KEY?
' QEMU-KEY IS KEY
HOST
